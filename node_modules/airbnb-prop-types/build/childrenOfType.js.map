{"version":3,"sources":["../src/childrenOfType.js"],"names":["onlyTypes","types","children","componentName","every","child","Type","type","typeNames","map","join","TypeError","isRequired","length","childrenOfType","validator","props","propName"],"mappings":";;;;AAAA;;;;AAEA;;;;AACA;;;;AACA;;;;;;AAEA,SAASA,SAAT,CAAmBC,KAAnB,EAA0BC,QAA1B,EAAoCC,aAApC,EAAmD;AACjD,MAAI,CAACD,SAASE,KAAT,CAAe;AAAA,WAASC,SAAS,iCAAKJ,KAAL,EAAY;AAAA,aAAQK,SAAS,GAAT,IAAgBD,MAAME,IAAN,KAAeD,IAAvC;AAAA,KAAZ,CAAlB;AAAA,GAAf,CAAL,EAAiG;AAC/F,QAAME,YAAYP,MAAMQ,GAAN,gCAA4BC,IAA5B,CAAiC,OAAjC,CAAlB;AACA,WAAO,IAAIC,SAAJ,cACAR,aADA,gDACiDK,SADjD,EAAP;AAGD;AACD,SAAO,IAAP;AACD;;AAED,SAASI,UAAT,CAAoBX,KAApB,EAA2BC,QAA3B,EAAqCC,aAArC,EAAoD;AAClD,MAAID,SAASW,MAAT,KAAoB,CAAxB,EAA2B;AACzB,QAAML,YAAYP,MAAMQ,GAAN,gCAA4BC,IAA5B,CAAiC,OAAjC,CAAlB;AACA,WAAO,IAAIC,SAAJ,cAAmBR,aAAnB,qDAAyEK,SAAzE,EAAP;AACD;AACD,SAAO,IAAP;AACD;;AAED,SAASM,cAAT,GAAkC;AAAA,oCAAPb,KAAO;AAAPA,SAAO;AAAA;;AAChC,MAAIA,MAAMY,MAAN,GAAe,CAAnB,EAAsB;AACpB,UAAM,IAAIF,SAAJ,CAAc,6CAAd,CAAN;AACD;;AAED,WAASI,SAAT,CAAmBC,KAAnB,EAA0BC,QAA1B,EAAoCd,aAApC,EAAmD;AACjD,WAAOH,UAAUC,KAAV,EAAiB,qCAAmBe,MAAMC,QAAN,CAAnB,CAAjB,EAAsDd,aAAtD,CAAP;AACD;;AAEDY,YAAUH,UAAV,GAAuB,UAACI,KAAD,EAAQC,QAAR,EAAkBd,aAAlB,EAAoC;AACzD,QAAMD,WAAW,qCAAmBc,MAAMC,QAAN,CAAnB,CAAjB;AACA,WAAOL,WAAWX,KAAX,EAAkBC,QAAlB,EAA4BC,aAA5B,KAA8CH,UAAUC,KAAV,EAAiBC,QAAjB,EAA2BC,aAA3B,CAArD;AACD,GAHD;;AAKA,SAAO,gCAAcY,SAAd,EAAyB,gBAAzB,EAA2Cd,KAA3C,CAAP;AACD;;qBAEca,c","file":"childrenOfType.js","sourcesContent":["import find from 'array.prototype.find';\n\nimport getComponentName from './helpers/getComponentName';\nimport renderableChildren from './helpers/renderableChildren';\nimport wrapValidator from './helpers/wrapValidator';\n\nfunction onlyTypes(types, children, componentName) {\n  if (!children.every(child => child && find(types, Type => Type === '*' || child.type === Type))) {\n    const typeNames = types.map(getComponentName).join(', or ');\n    return new TypeError(\n      `\\`${componentName}\\` only accepts children of type ${typeNames}`,\n    );\n  }\n  return null;\n}\n\nfunction isRequired(types, children, componentName) {\n  if (children.length === 0) {\n    const typeNames = types.map(getComponentName).join(', or ');\n    return new TypeError(`\\`${componentName}\\` requires at least one node of type ${typeNames}`);\n  }\n  return null;\n}\n\nfunction childrenOfType(...types) {\n  if (types.length < 1) {\n    throw new TypeError('childrenOfType: at least 1 type is required');\n  }\n\n  function validator(props, propName, componentName) {\n    return onlyTypes(types, renderableChildren(props[propName]), componentName);\n  }\n\n  validator.isRequired = (props, propName, componentName) => {\n    const children = renderableChildren(props[propName]);\n    return isRequired(types, children, componentName) || onlyTypes(types, children, componentName);\n  };\n\n  return wrapValidator(validator, 'childrenOfType', types);\n}\n\nexport default childrenOfType;\n"]}